<!DOCTYPE html>
<html>
<head>
  <title>Survey</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container">
    <h2><strong>Survey Questions</strong></h2>
    <hr>
    <h3><strong>About You</strong></h3>
    <h4>Name</h4>
    <input type="text" id="friendName" class="form-control" required>
    <h4>Link to Photo</h4>
    <input type="text" id="friendPhoto" class="form-control" required>
    <hr>
    <div class="form-group" id="questions"></div>
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submitButton">Submit</button>
    <br>
    <br>
  </div>

<!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script> -->
<script type="text/javascript">
  var questionList = [
    "animals",
    "sports",
    "shopping",
    "eating out",
    "traveling",
    "going to the movies",
    "drinking",
    "the outdoors",
    "cars",
    "staying out late"
  ];
  // Display Questions On HTML
  for (var i=1; i<=questionList.length; i++) {
    $("#questions").append("<h3>Question "+i+"</h3><label>You like "+questionList[i-1]+".</label><select class='form-control' id='question"+i+"'><option></option><option>1 (Strongly Disagree)</option><option>2</option><option>3</option><option>4</option><option>5 (Strongly Agree)</option></select>");
  };


 $("#submitButton").on("click", function(event) {
  event.preventDefault();

  // Create an array of answers
  var answerArray = [];
  for (var i=1; i<=questionList.length; i++) {
    answerArray.push($("#question"+i).val().trim().charAt(0));
  }
  var friendName = $("#friendName").val().trim();
  var friendPhoto = $("#friendPhoto").val().trim();

  console.log(answerArray);

  var newFriend = {
    "name": friendName,
    "photo": friendPhoto,
    "scores": answerArray
  }
});











  function runFriendsQuery() {
    var currentURL = window.location.origin;
    console.log(currentURL);

    $.ajax({ url: currentURL + "/api/friends", method: "GET" })
    .done(function(friendsData) {
      console.log("-------------------------");
      console.log("URL: "+currentURL+"/api/friends");
      console.log("-------------------------");
      console.log(friendsData);
      console.log("-------------------------");

    })
  }
  runFriendsQuery();
</script>
</body>
</html>